---
title: 'Waveger'
category: 'Personal Project'
description: 'Billboard meets Fantasy Football: Predict the Hot 100, compete for accuracy.'
technologies:
  [
    'React 18',
    'TypeScript',
    'Supabase',
    'PostgreSQL',
    'Deno Edge Functions',
    'TanStack Query',
    'Tailwind CSS',
    'Swiper.js',
    'Framer Motion',
    '@dnd-kit',
    'Sentry',
    'Vitest',
    'Playwright',
  ]
link: 'https://waveger.vercel.app'
image: '/images/waveger.webp'
year: '2025'
featured: false
---

## The Product

Waveger is fantasy football for music fans. Each week, users predict where songs will land on the Billboard Hot 100 and earn points based on accuracy. Predictions lock Friday at 5 AM GMT. When the official chart drops Saturday, scores calculate automatically and the leaderboard updates.

The original version was my final year project at the University of Leeds, built with Flask, vanilla JavaScript, and [Bootstrap](https://getbootstrap.com). It scored a First and was my first proper full-stack project. After graduating I decided to rebuild it from scratch with a modern stack: React, TypeScript, [Supabase](https://supabase.com), proper testing. Same concept, completely different architecture.

If you spend any time on stan Twitter, you'll know the culture. Everyone's got opinions on whether their fave will debut top 10, whether a song's got the streams to hold #1, whether radio will tank a song's position. Accounts like [@ChartData](https://twitter.com/chartdata) post midweek updates and the replies fill with predictions. But no one's keeping score of who called it right. I wanted to turn predictions into a competition.

<div className="not-prose my-12">
  <CarouselStandard2
    images={[
      '/portfolio/waveger-05-homepage-desktop-thumb.webp',
      '/portfolio/waveger-05-homepage-mobile-thumb.webp',
    ]}
    alt={[
      'Desktop homepage with hero tagline, current top 3 songs, and countdown timer',
      'Mobile homepage with hero tagline, current top 3 songs, and countdown timer',
    ]}
    buttonLabels={['Desktop', 'Mobile']}
  />
</div>

---

## Features

<div className="not-prose mt-6 grid gap-24 lg:gap-32">

{/* Make Your Predictions */}

<div className="grid items-center gap-8 lg:grid-cols-2 lg:gap-12">
  <div className="order-1">
    <CarouselStandard2
      images={[
        '/portfolio/waveger-01-prediction-interface-desktop-thumb.webp',
        '/portfolio/waveger-01-prediction-interface-mobile-thumb.webp',
      ]}
      alt={[
        'Desktop drag-and-drop prediction interface with grid layout',
        'Mobile swipeable card prediction interface with gesture controls',
      ]}
      buttonLabels={['Desktop', 'Mobile']}
    />
  </div>
  <div className="order-2">
    <h3 className="text-foreground mb-4 text-xl font-semibold tracking-tight">
      Make Your Predictions
    </h3>
    <div className="space-y-4">
      <div className="text-muted-foreground leading-relaxed">
        On desktop, users drag and drop songs in a grid using
        [@dnd-kit](https://dndkit.com). On mobile, they swipe through a card
        stack powered by [Swiper.js](https://swiperjs.com). Both share the same
        prediction logic underneath, just different input methods.
      </div>
      <div className="text-muted-foreground leading-relaxed">
        A countdown timer ticks down to Friday 5 AM GMT. When the deadline hits,
        predictions lock server-side.
      </div>
    </div>
  </div>
</div>

{/* Automatic Scoring */}

<div className="grid items-center gap-8 lg:grid-cols-2 lg:gap-12">
  <div className="order-2 lg:order-1">
    <h3 className="text-foreground mb-4 text-xl font-semibold tracking-tight">
      Automatic Scoring
    </h3>
    <div className="text-muted-foreground leading-relaxed">
      When Billboard publishes charts every Saturday, scores calculate
      automatically for everyone at once. Points use a tiered system: 150 for an
      exact match, scaling down based on how close you were.
    </div>
  </div>
  <div className="order-1 lg:order-2">
    <CarouselStandard2
      images={[
        '/portfolio/waveger-02-results-scored-desktop-thumb.webp',
        '/portfolio/waveger-02-results-scored-mobile-thumb.webp',
      ]}
      alt={[
        'Desktop results page showing scored predictions with point breakdown',
        'Mobile results page showing scored predictions with point breakdown',
      ]}
      buttonLabels={['Desktop', 'Mobile']}
    />
  </div>
</div>

{/* Leaderboards & Profile Stats */}

<div className="grid items-center gap-8 lg:grid-cols-2 lg:gap-12">
  <div className="order-1">
    <CarouselStandard2
      images={[
        '/portfolio/waveger-04-leaderboard-desktop-thumb.webp',
        '/portfolio/waveger-04-leaderboard-mobile-thumb.webp',
      ]}
      alt={[
        'Desktop leaderboard with weekly rankings and profile analytics',
        'Mobile leaderboard with weekly rankings and profile analytics',
      ]}
      buttonLabels={['Desktop', 'Mobile']}
    />
  </div>
  <div className="order-2">
    <h3 className="text-foreground mb-4 text-xl font-semibold tracking-tight">
      Leaderboards & Profile Stats
    </h3>
    <div className="text-muted-foreground leading-relaxed">
      Weekly and all-time leaderboards rank users by total points, with streak
      tracking for consecutive weeks of participation. Profiles show prediction
      history with [Recharts](https://recharts.org) line charts: points earned
      per week and accuracy percentage over time.
    </div>
  </div>
</div>

{/* Apple Music Integration */}

<div className="grid items-center gap-8 lg:grid-cols-2 lg:gap-12">
  <div className="order-2 lg:order-1">
    <h3 className="text-foreground mb-4 text-xl font-semibold tracking-tight">
      Apple Music Integration
    </h3>
    <div className="text-muted-foreground leading-relaxed">
      Users can swap any Billboard song for a custom Apple Music song, handy for
      predicting songs that aren't on the current chart. Search uses
      [Fuse.js](https://fusejs.io) for fuzzy matching.
    </div>
  </div>
  <div className="order-1 lg:order-2">
    <CarouselStandard2
      images={[
        '/portfolio/waveger-06-apple-music-swap-desktop-thumb.webp',
        '/portfolio/waveger-06-apple-music-swap-mobile-thumb.webp',
      ]}
      alt={[
        'Desktop Apple Music swap modal with search interface',
        'Mobile Apple Music swap modal with search interface',
      ]}
      buttonLabels={['Desktop', 'Mobile']}
    />
  </div>
</div>

</div>

---

## How It's Built

### Architecture Decisions

**Server-Side Scoring:** CRON-triggered [Deno](https://deno.com) Edge Functions fired by [GitHub Actions](https://github.com/features/actions) every Saturday. Uses Supabase service role keys to bypass Row Level Security. PostgreSQL's UNNEST operator writes all scores in a single query instead of one per prediction.

**Three-Layer Caching:** Chart data flows through [Upstash Redis](https://upstash.com) (7-day TTL), then PostgreSQL, then [TanStack Query's](https://tanstack.com/query) client cache (30-minute stale time). Most requests never touch the external API.

---

### Security

Row Level Security throughout: users can only touch their own predictions, leaderboards and charts are public read, Edge Functions use service role credentials for admin operations.

---

### Performance

Route-based code splitting keeps the initial bundle around **180KB gzipped**. Composite database indexes for fast queries.

---

### Observability

[Sentry](https://sentry.io) error tracking with session replay. React error boundaries catch component failures and render recovery UI.

---

### Accessibility

WCAG 2.1 AA compliant. Proper semantic HTML with landmark tags, ARIA labels on interactive elements, full keyboard support for drag-and-drop (Space to grab, Arrow keys to move), 4.5:1 minimum contrast ratio, and visible focus indicators throughout. Tested with VoiceOver on macOS and NVDA on Windows.

---

### Testing

When your users are competitive pop fans who will absolutely notice if scoring is off by a single point, you can't cut corners. Unit tests with [Vitest](https://vitest.dev), component tests with [React Testing Library](https://testing-library.com/react), and E2E tests with [Playwright](https://playwright.dev) running the full prediction flow against a staging database.

---

### UX Polish

Native sharing via Web Share API with fallbacks to clipboard and Twitter intent links. Confetti celebrations for predictions and badge unlocks. Four achievement badges with progress tracking.

---

## Tech Stack

**Front End:** React 18, TypeScript (strict), Vite + SWC, TanStack Query, shadcn/ui + Radix UI, Tailwind CSS, Swiper.js, Framer Motion, @dnd-kit, Recharts, Fuse.js, canvas-confetti

**Back End:** Supabase (PostgreSQL + Auth), Deno Edge Functions, Upstash Redis

**APIs:** RapidAPI Billboard Charts, Apple Music API, Resend

**DevOps:** GitHub Actions, Vercel, Sentry (with Session Replay), Codecov, Dependabot, Playwright, Vitest
