---
title: 'MusicCount'
category: 'Personal Project'
description: 'Match your play counts before cleaning up duplicates.'
technologies:
  ['Swift 6.1', 'SwiftUI', 'MediaPlayer', 'Swift Concurrency', 'Swift Testing']
link: 'https://apps.apple.com/gb/app/musiccount/id6754639829'
github: 'https://github.com/jacobreesgit/MusicCount'
image: '/images/musiccount.webp'
year: '2025'
featured: false
---

## The Product

I built this because my own library was a mess. Years of re-importing albums and switching between Spotify and Apple Music left me with duplicate songs everywhere, each with different play counts. It was also my first Swift app. I wanted to learn iOS development properly, and building something I'd actually use seemed like the best way to do it.

MusicCount scans your library, groups duplicates by normalised title and artist, and lets you pick the version you want to keep. The app adds it to your queue enough times to match the play count of the duplicate - once played, you can delete the duplicate yourself (Apple Music's API doesn't allow apps to delete songs). Your listening history stays intact on the song that matters.

<div className="not-prose my-12">
  <ThemeAwareImage
    light={{
      src: "/portfolio/musiccount-02-first-load-thumb.webp",
      lightboxSrc: "/portfolio/musiccount-02-first-load.webp",
    }}
    dark={{
      src: "/portfolio/musiccount-02-first-load-dark-thumb.webp",
      lightboxSrc: "/portfolio/musiccount-02-first-load-dark.webp",
    }}
    alt="Library view sorted by play count on first load"
    loading="lazy"
    width={1920}
    height={1080}
    decoding="async"
    className="w-full rounded-xl shadow-2xl ring-1 ring-white/10"
    showCaption={true}
  />
</div>

---

## Features

<div className="not-prose mt-6 grid gap-24 lg:gap-32">

{/* Intelligent Duplicate Detection */}

<div className="grid items-center gap-8 lg:grid-cols-2 lg:gap-12">
  <div className="order-2 lg:order-1">
    <h3 className="text-foreground mb-4 text-xl font-semibold tracking-tight">
      Intelligent Duplicate Detection
    </h3>
    <div className="space-y-4">
      <div className="text-muted-foreground leading-relaxed">
        Your most-played song split across three versions? String normalisation
        catches duplicates even when titles don't match exactly, grouping by
        both title and artist to avoid false positives.
      </div>
      <div className="text-muted-foreground leading-relaxed">
        Groups with biggest play count gaps float to top. Sort by play count,
        title, artist, album, or version count. Real-time search. Dismiss songs
        or entire groups, persisted between launches.
      </div>
    </div>
  </div>
  <div className="order-1 lg:order-2">
    <ThemeAwareImage
      light={{
        src: "/portfolio/musiccount-01-suggestions-thumb.webp",
        lightboxSrc: "/portfolio/musiccount-01-suggestions.webp",
      }}
      dark={{
        src: "/portfolio/musiccount-01-suggestions-dark-thumb.webp",
        lightboxSrc: "/portfolio/musiccount-01-suggestions-dark.webp",
      }}
      alt="Suggestions tab showing duplicate groups sorted by play count difference"
      loading="lazy"
      width={1920}
      height={1080}
      decoding="async"
      className="w-full rounded-xl shadow-2xl ring-1 ring-white/10"
    />
  </div>
</div>

{/* Interactive Play Count Comparison */}

<div className="grid items-center gap-8 lg:grid-cols-2 lg:gap-12">
  <div className="order-1">
    <ThemeAwareImage
      light={{
        src: "/portfolio/musiccount-03-comparison-expanded-thumb.webp",
        lightboxSrc: "/portfolio/musiccount-03-comparison-expanded.webp",
      }}
      dark={{
        src: "/portfolio/musiccount-03-comparison-expanded-dark-thumb.webp",
        lightboxSrc: "/portfolio/musiccount-03-comparison-expanded-dark.webp",
      }}
      alt="Comparison view"
      loading="lazy"
      width={1920}
      height={1080}
      decoding="async"
      className="w-full rounded-xl shadow-2xl ring-1 ring-white/10"
    />
  </div>
  <div className="order-2">
    <h3 className="text-foreground mb-4 text-xl font-semibold tracking-tight">
      Interactive Play Count Comparison
    </h3>
    <div className="text-muted-foreground leading-relaxed">
      Side-by-side view with blurred album artwork. Tap the version to keep.
      Match Mode queues it enough to match the duplicate's play count, Add Mode
      adds the duplicate's total. Insert Next or Replace Queue. Once played,
      delete the duplicate with your play history intact.
    </div>
  </div>
</div>

</div>

---

## How It's Built

### Architecture Decisions

**Native State Management:** iOS 17's observation system makes ViewModels optional. Views stay thin, business logic lives in services shared via dependency injection.

**Modular Package Architecture:** Features live in a Swift Package. The app target is a thin wrapper. Tests sit alongside feature code.

**Background Thread Scanning:** Library queries run off the main thread so the UI stays responsive during initial load.

---

### Security & Privacy

No data collection, no network calls, no external dependencies.

---

### Performance

1.7MB app size. Background queries keep large libraries responsive.

---

### Accessibility

VoiceOver labels and hints throughout. Tab bar badges show suggestion count. Comparison cards grouped for screen readers. Dynamic Type support.

---

### Testing

Swift Testing framework with coverage across grouping logic, dismissal persistence, queue behaviour, model validation, and all seven sort algorithms. Mock service with deterministic data for tests and UI development.

---

## Tech Stack

**UI:** SwiftUI (iOS 17.0+)

**Language:** Swift 6.1 with strict concurrency checking

**Concurrency:** async/await, actors, main thread isolation

**State:** Native observation system, dependency injection

**Testing:** Swift Testing framework

**Architecture:** Modular package structure
